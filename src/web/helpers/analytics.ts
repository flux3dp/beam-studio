/*
 * name: nwjs-analytics -Node-Webkit Google Analytics integration
 * version: 1.0.2
 * github: https://github.com/Daaru00/nwjs-analytics
 */
var analytics={apiVersion:"1",trackID:"UA-40862421-6",clientID:null,userID:null,appName:"FLUX Studio",appVersion:"0.4.1",debug:!1,performanceTracking:!0,userLanguage:"it",currency:"EUR",sendRequest:function(a,b){this.clientID&&null!=this.clientID||(this.clientID=this.generateClientID()),this.userID&&null!=this.userID||(this.userID=this.generateClientID());var c="v="+this.apiVersion+"&tid="+this.trackID+"&cid="+this.clientID+"&uid="+this.userID+"&an="+this.appName+"&av="+this.appVersion+"&sr="+this.getScreenResolution()+"&vp="+this.getViewportSize()+"&sd="+this.getColorDept()+"&ul="+this.userLanguage+"&ua="+this.getUserAgent()+"&ds=app";Object.keys(a).forEach(function(b){var d=a[b];"undefined"!=typeof d&&(c+="&"+b+"="+d)});var d=new XMLHttpRequest,e="https://www.google-analytics.com";e+=this.debug?"/debug/collect":"/collect",d.open("POST",e,!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.onreadystatechange=function(){analytics.debug&&console.log(d.response),4==d.readyState&&200==d.status?b&&b(!0):b&&b(!1)},d.send(c)},generateClientID:function(){for(var a="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;c<5;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a},getScreenResolution:function(){return screen.width+"x"+screen.height},getColorDept:function(){return screen.colorDepth+"-bits"},getUserAgent:function(){return navigator.userAgent},getViewportSize:function(){return window.screen.availWidth+"x"+window.screen.availHeight},screenView:function(a){var b={t:"screenview",cd:a};this.sendRequest(b)},event:function(a,b,c,d){var e={t:"event",ec:a,ea:b,el:c,ev:d};this.sendRequest(e)},exception:function(a,b){var c={t:"exception",exd:a,exf:b||0};this.sendRequest(c)},timing:function(a,b,c,d){var e={t:"timing",utc:a,utv:b,utt:c,utl:d};this.sendRequest(e)},ecommerce:{transactionID:!1,generateTransactionID:function(){for(var a="",b="0123456789",c=0;c<5;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a},transaction:function(a,b){var c="";c=this.ecommerce.transactionID?this.ecommerce.transactionID:this.ecommerce.generateTransactionID();var d={t:"transaction",ti:c,tr:a,cu:this.currency};this.sendRequest(d),b.forEach(function(a){var b={t:"item",ti:c,in:a.name,ip:a.price,iq:a.qty,ic:a.id,cu:this.currency};this.sendRequest(b)})}},custom:function(a){this.sendRequest(a)}};window.addEventListener("load",function(){analytics.performanceTracking&&setTimeout(function(){var a=window.performance.timing,b=a.loadEventEnd-a.navigationStart;analytics.timing("performance","pageload",b)},0)},!1);
